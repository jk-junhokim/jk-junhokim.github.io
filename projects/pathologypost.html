<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Blog Post - Junho Kim</title>
	<link rel="stylesheet" href="../css/research-post.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
	<link rel="icon" type="image/png" href="../images/favicon.ico">
</head>

<body>
	<div class="container">
		<header class="header">
			<h1>Junho Kim</h1>
			<nav>
				<a href="../index.html">About</a>
				<a href="../research.html" class="active">Research</a>
				<a href="../blog.html">Ramble</a>
				<a href="../project.html"><i class="fa-solid fa-robot"></i></a>
			</nav>
		</header>

		<main>
			<section class="research-post">
				<h2 class="research-title">Detecting and Classifying Breast Cancer through Whole Slide Images</h2>
				<p class="research-date">June, 2023</p>

				<article>
        
					<h3>The Project</h3>
					
					<div class="text-image-horizontal">
						<div class="text">
							<p>
								We worked on tumor detection for breast pathology and verify our model's performance with real clinical data.

								We aimed to accurately identify tumor areas within pathological tissue slides by using deep learning, particularly neural networks.

								Pathologic tissue slides vary greatly in the data due to differences in the staining process, types, and settings of scanners. Developing a deep learning model that shows consistent performance under various conditions has beem a long standing problem.
							</p>
							<p>
								Our goal is to assist pathologists in making faster and more accurate diagnoses in clinical settings through trained models. To this end, we deploy our model in real clinical settings for patient diagnosis and treatment.
							</p>
							<p>
								Our user-friendly graphical user interface (GUI) facilitates the use of our trained models by pathologists in clinical settings. As shown in Figure 1 and 2, our GUI is designed to allow pathologists to analyze data and interpret results thus enhancing the accuracy and efficiency of pathological analysis and simplifying the diagnostic process.
							</p>
						</div>

						<div class="image-container-vertical">
							<figure class="image-container">
								<img src="../images/research/pathology_project_page/Figure2.png" style="width: 300px; height: 300px;">
								<figcaption style="width: 300px;">Figure 1: GUI loaded.</figcaption>
							</figure>
							<figure class="image-container">
								<img src="../images/research/pathology_project_page/Figure3.png" style="width: 300px; height: 300px;">
								<figcaption style="width: 300px;">Figure 2: GUI during clinical trials.</figcaption>
							</figure>
						</div>
					</div>

					<h3>Background</h3>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/figure1.png" style="width: 640px; height: 340px;">
							<figcaption style="width: 300px;">Figure 3: Breast Cancer Rate</figcaption>
						</figure>
					</div>

					<p>
						According to the National Cancer Institute, Breast cancer is more than 15% of all new reported cancer cases (see Figure 3). Early diagnosis and the development of effective treatment methods can prevent deaths, and pathological analysis plays a pivotal role in diagnosis and treatment of breast cancer.
						
						The diagnosis is primarily done through pathologic tissue slide analysis, and information from the analysis is used to evaluate the nature and stage of the tumor.

						In recent years, deep learning has made significant advances in the field of medical image analysis. With state of the art deep learning models, scientists can detect and analyze cancer cells on pathological tissue slides, in the form of whole slide images. 
					</p>
					<p>
						The main challenge in tumor diagnosis using trained models is generalizing their performance across the diverse nature of pathological tissue slide data. Thus, we focused on designing and optimizing robust models taking this diversity into account.
					</p>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/Figure6.png" style="width: 600px; height: 300px;">
							<figcaption style="width: 300px;">Figure 4: Breast Cancer histopathology</figcaption>
						</figure>
					</div>

					<p>
						Breast Pathology Tissue Slide Data (whole slide image) is a tissue sample that is pathologically examined for the diagnosis of breast cancer as shown in Figure 4. The sample is finely cut and placed on a glass slide, allowing the staining process to distinguish between cancer cells and normal cells.
					</p>
					<p>
						Tissue slides are converted into digital images, where the characteristics of the data are revealed. Digital slides have a pyramid structure that includes various magnification levels, allowing for detailed analysis of high-resolution in smaller areas. This data is used to determine the type, size, and growth pattern of breast cancer.       
					</p>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/Figure7.png" style="width: 400px; height: 300px;">
							<figcaption style="width: 300px;">Figure 5: Different magnification levels.</figcaption>
						</figure>
					</div>

					<h3>Types of Breast Cancer</h3>
					<p>
						There are many different types of breast cancer that can be identified on the breast histopathology slide. The main types include IDC (Invasive Ductal Carcinoma), DCIS (Ductal Carcinoma In Situ), ILC (Invasive Lobular Carcinoma), and LCIS (Lobular Carcinoma In Situ). IDC and ILC are invasive forms of breast cancer, while DCIS and LCIS are non-invasive. 
					</p>
					<p>
						Our goal is clinical deployment, prioritizing a rapid assessment of breast cancer presence and location. Once our model confirms the existence of a tumor, further medical examinations will be conducted. Therefore, we focused on developing a model that identifies tumor regions without distinguishing specific types.
					</p>

					<h3>Method</h3>
					<p>The following steps outline our approach:</p>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/Figure9.png" style="width: 630px; height: 200px;">
							<figcaption style="width: 300px;">Figure 6: Data preprocessing and annotation.</figcaption>
						</figure>
					</div>

					<ol>
						<li><strong>Patch Extraction:</strong> We applied a sliding window method to divide whole slide images (WSI) into smaller patches. Each WSI (3000×4000) was split into <strong>256×256</strong> patches, making them suitable for neural network processing (Figure 6).</li>
						<li><strong>Model Selection & Training:</strong> We trained multiple neural network architectures (e.g., <strong>VGG, Inception, UNet, Swin Transformer</strong>) using our annotated dataset, which was pre-annotated by a professional pathologist.</li>
						<li><strong>Evaluation:</strong> We assessed model performance based on <strong>F1 score</strong> and <strong>accuracy</strong>.</li>
					</ol>

					<p>A significant challenge was <strong>class imbalance</strong>, as non-tumor patches vastly outnumbered tumor patches. To address this, we controlled the tumor-to-non-tumor patch ratio during training. Additionally, <strong>data augmentation</strong> played a key role in mitigating multiple issues:</p>

					<ul>
						<li><strong>Color jittering and noise augmentation</strong> addressed variations in staining methods.</li>
						<li><strong>Targeted augmentation</strong> was applied specifically to tumor patches to improve model generalization.</li>
					</ul>

					<p>We conducted <strong>five model tests using 5-fold cross-validation</strong> to enhance model robustness. A hyperparameter tuning process was implemented to optimize performance and prevent overfitting. The model was also evaluated on an external dataset, achieving consistently high accuracy across all folds:</p>

					<ul>
						<li><strong>Fold 0:</strong> 0.9532</li>
						<li><strong>Fold 1:</strong> 0.9518</li>
						<li><strong>Fold 2:</strong> 0.9513</li>
						<li><strong>Fold 3:</strong> 0.9506</li>
						<li><strong>Fold 4:</strong> 0.9498</li>
					</ul>

					<p>With an <strong>average F1 score exceeding 0.95</strong>, our model demonstrates strong performance and consistency.</p>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/Figure8.png" style="width: 500px; height: 340px;">
							<figcaption style="width: 300px;">Figure 7: Examples of tumor regions highlighted by our trained model.</figcaption>
						</figure>
					</div>

					<p>Additionally, our <strong>GUI</strong> features a <strong>Tumor Confidence Control</strong> option, allowing users to adjust the sensitivity of tumor detection:</p>

					<ul>
						<li><strong>Soft:</strong> Displays tumor regions with <strong>≥50% confidence</strong></li>
						<li><strong>Moderate:</strong> Displays tumor regions with <strong>≥70% confidence</strong></li>
						<li><strong>Hard:</strong> Displays tumor regions with <strong>≥90% confidence</strong></li>
					</ul>

					<p>Furthermore, users can generate <strong>detailed analysis reports and data sheets</strong> (Figure 8) based on tumor inference results, enabling systematic documentation and easy sharing of diagnostic information.</p>

					<div class="image-container-vertical">
						<figure class="image-container">
							<img src="../images/research/pathology_project_page/Figure5.png" style="width: 350px; height: 500px;">
							<figcaption style="width: 300px;">Figure 8: Pathology Report for Patients.</figcaption>
						</figure>
					</div>


					<h3>Conclusion</h3>
					<p>
						We developed a neural network-based model and GUI program to increase the accuracy and efficiency of breast cancer diagnosis. Without a high-cost, high-resolution microscope, pathology slides can be analyzed quickly in a variety of clinical settings, not only increasing the efficiency of pathology testing, but also allowing large-scale data to be continuously built through quantitative measurements. This allows us to take a step closer to personalized medication and precision medication approaches in treatment decisions along with accurate prognosis predictions.
					</p>

					<h3>References</h3>
                    <section class="references">
                    <p>
                        <a href="https://medium.com/tesser-team/%EB%B3%91%EB%A6%AC-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%A2%85%EC%96%91-%ED%83%90%EC%A7%80-ai-%EB%AA%A8%EB%8D%B8-%EA%B0%9C%EB%B0%9C-142e60b51a70" target="_blank">Medium Blog (Korean Ver)</a>
                    </p>

                    </section>
		
				</article>
		
			</section>
		</main>

		<footer class="footer">
			<p>&copy; 2024 Junho Kim</p>
		</footer>

	</div>
</body>

</html>
